# Linux

### 进程管理



##### linux 进程和线程都是由什么函数创建的？

- [ ] 进程通过 fork()创建
- [ ] 线程通过 pthread_create() 函数创建



##### fork 函数的作用

- [ ] 它的作用是从已经存在的进程中创建一个子进程，而原进程称为父进程。
- [ ] fork调用的一个奇妙之处就是它仅仅被调用一次，却能够返回两次，它可能有三种不同的返回值：
      1）在父进程中，fork返回新创建子进程的进程ID；
      2）在子进程中，fork返回0；
      3）如果出现错误，fork返回一个负值；

##### 父子进程之间资源是共享的的吗

是的

##### 父子进程之间怎么用匿名管道通信



##### 孤儿进程产生的原因？

一个父进程退出，而它的一个或多个子进程还在运行，那么这些子进程将成为孤儿进程。

孤儿进程将被 init 进程（进程号为 1）所收养，并由 init 进程对它们完成状态收集工作。

由于孤儿进程会被 init 进程收养，所以孤儿进程不会对系统造成危害。



##### 僵尸进程产生的原因

- [ ] 一个子进程的进程描述符在子进程退出时不会释放，只有当父进程通过 wait() 或 waitpid() 获取了子进程信息后才会释放。如果子进程退出，而父进程并没有调用 wait() 或 waitpid()，那么子进程的进程描述符仍然保存在系统中，这种进程称之为僵尸进程。
- [ ] 但如果子进程后结束，即父进程先结束了，但没有调用 wait/waitpid 来等待子进程的结束， 此时子进程还在运行，父进程已经结束。那么并不会产生僵尸进程。

##### 僵尸进程带来的问题

- [ ] 系统所能使用的进程号是有限的，如果产生大量僵尸进程，将因为没有可用的进程号而导致系统不能产生新的进程

##### 如何释放僵尸进程

- [ ] 要消灭系统中大量的僵尸进程，只需要将其父进程杀死，此时僵尸进程就会变成孤儿进程，从而被 init 进程所收养，这样 init 进程就会释放所有的僵尸进程所占有的资源，从而结束僵尸进程

##### 内核态和用户态了解吗，是什么

为了减少有限资源的访问和使用冲突，对不同的操作赋予不同的执行等级，就是所谓特权的概念。简单说就是有多大能力做多大的事，与系统相关的一些特别关键的操作必须由最高特权的程序来完成。Linux操作系统中主要采用了0和3两个特权级，分别对应的就是内核态和用户态。内核态切换到用户态的情况通常有系统调用、中断、和外围设备异常

##### 怎么在linux中查看端口绑定的程序

```bash
[root@iZuf6exqfbvbci35z3z371Z ~]# netstat -nlap |grep 8080
tcp6       0      0 :::8080                 :::*                    LISTEN      3916/main           
[root@iZuf6exqfbvbci35z3z371Z ~]# ps -aux |grep 3916
root      3916  0.0  1.7 968700 16920 ?        Ssl  Jun07   1:45 /home/work/crontab/master/main -config=/home/work/crontab/master/master.json
root     28092  0.0  0.1 112812   980 pts/0    S+   20:33   0:00 grep --color=auto 3916
```

# 
